const Manager = require('../src/js/manager').default;
const User = require('../src/js/user').default;
const expect = require('chai').expect;


describe('Manager', () => {
    
    let responseObj = {
        uuid: "testUUID",
        email: "email@example.com",
        name: "Test Name",
        avatarUrl: "Test avatar url"
    };

    it('should construct object based on server response object', () => {
        let actual = Manager.buildFromInfo(responseObj);

        expect(actual).to.haveOwnProperty('uuid', responseObj.uuid);
        expect(actual).to.haveOwnProperty('email', responseObj.email);
        expect(actual).to.haveOwnProperty('name', responseObj.name);
        expect(actual).to.haveOwnProperty('avatarUrl', responseObj.avatarUrl);
    });

    it('shoud return avatarUrl from getter', () => {
        let actual = Manager.buildFromInfo(responseObj);
        
        expect(actual.getAvatarUrl()).to.be.equal(responseObj.avatarUrl, 'avatar url mismatch');
    });

    it('inherits User class', () => {
        let actual = Manager.buildFromInfo(responseObj);
        
        expect(actual).has.to.be.instanceOf(User);
    });

});